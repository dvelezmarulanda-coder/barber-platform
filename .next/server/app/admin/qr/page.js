(()=>{var e={};e.id=194,e.ids=[194],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},4646:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=t(7096),a=t(6132),i=t(7284),n=t.n(i),l=t(2564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let c=["",{children:["admin",{children:["qr",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1342)),"C:\\Users\\DAVID\\OneDrive\\Documentos\\barber-platform\\app\\admin\\qr\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5719)),"C:\\Users\\DAVID\\OneDrive\\Documentos\\barber-platform\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,2834)),"C:\\Users\\DAVID\\OneDrive\\Documentos\\barber-platform\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\DAVID\\OneDrive\\Documentos\\barber-platform\\app\\admin\\qr\\page.tsx"],x="/admin/qr/page",p={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/qr/page",pathname:"/admin/qr",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2010:(e,r,t)=>{Promise.resolve().then(t.bind(t,9850))},9850:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>QRCodePage});var s=t(784),a=t(9885),i=t(3334),n=t(7114),l=t(1440),o=t.n(l);function QRCodePage(){let[e,r]=(0,a.useState)(!0),[t,l]=(0,a.useState)(null),c=(0,i.createClientComponentClient)(),d=(0,n.useRouter)(),x="https://trim-app.vercel.app/book",p=`https://api.qrserver.com/v1/create-qr-code/?size=300x300&format=png&data=${encodeURIComponent(x)}`;return((0,a.useEffect)(()=>{let checkUser=async()=>{try{let{data:{user:e}}=await c.auth.getUser();if(!e){d.push("/login");return}let{data:r}=await c.from("perfiles").select("*").eq("id",e.id).single();if(l(r),r&&"admin"!==r.rol&&"barbero"!==r.rol){d.push("/dashboard");return}}catch(e){console.error("Error loading QR page:",e),d.push("/dashboard")}finally{r(!1)}};checkUser()},[c,d]),e)?s.jsx("div",{className:"min-h-screen bg-black text-white p-8 text-center",children:"Cargando..."}):s.jsx("main",{className:"min-h-screen bg-gradient-to-br from-black via-zinc-900 to-black text-white px-4 py-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto space-y-8",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(o(),{href:"/admin",className:"text-zinc-400 hover:text-white transition-colors inline-flex items-center gap-2 group",children:[s.jsx("span",{className:"group-hover:-translate-x-1 transition-transform",children:"←"}),"Volver al Panel de Administraci\xf3n"]}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-white via-zinc-200 to-zinc-400 bg-clip-text text-transparent",children:"C\xf3digo QR para Reservas"}),s.jsx("p",{className:"text-zinc-400 mt-2",children:"Comparte este c\xf3digo QR para que tus clientes puedan agendar citas f\xe1cilmente"})]})]}),s.jsx("div",{className:"bg-gradient-to-br from-zinc-900 to-zinc-800 rounded-3xl border border-zinc-700/50 p-6 sm:p-10 shadow-2xl",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-8",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl blur-xl opacity-20"}),s.jsx("div",{className:"relative bg-white p-6 rounded-2xl shadow-xl",children:s.jsx("img",{src:p,alt:"QR Code para reservas",className:"w-full max-w-[250px] sm:max-w-[300px] h-auto",loading:"lazy",onError:e=>{console.error("Error loading QR code"),e.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Crect fill="%23ddd" width="300" height="300"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3EError cargando QR%3C/text%3E%3C/svg%3E'}})})]}),(0,s.jsxs)("div",{className:"text-center space-y-3 w-full px-2",children:[s.jsx("p",{className:"text-sm text-zinc-400 font-medium",children:"Este QR redirige a:"}),s.jsx("div",{className:"bg-zinc-800/50 backdrop-blur-sm border border-zinc-700 px-4 py-3 rounded-xl",children:s.jsx("code",{className:"text-xs text-zinc-300 break-all",children:x})})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 w-full pt-4",children:[(0,s.jsxs)("button",{onClick:()=>{let e=document.createElement("a");e.href=p,e.download="barber-shop-qr-code.png",document.body.appendChild(e),e.click(),document.body.removeChild(e)},className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white px-6 py-4 rounded-xl font-bold text-sm sm:text-base transition-all duration-300 shadow-lg hover:shadow-blue-500/50 hover:scale-105 active:scale-95 flex items-center justify-center gap-2",children:[s.jsx("span",{className:"text-xl",children:"\uD83D\uDCE5"}),"Descargar QR"]}),(0,s.jsxs)("button",{onClick:()=>window.print(),className:"flex-1 bg-zinc-800 hover:bg-zinc-700 border border-zinc-700 text-white px-6 py-4 rounded-xl font-bold text-sm sm:text-base transition-all duration-300 hover:scale-105 active:scale-95 flex items-center justify-center gap-2",children:[s.jsx("span",{className:"text-xl",children:"\uD83D\uDDA8️"}),"Imprimir"]})]})]})}),(0,s.jsxs)("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-2xl border border-zinc-800 p-6 sm:p-8 space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center",children:s.jsx("span",{className:"text-xl",children:"\uD83D\uDCA1"})}),s.jsx("h2",{className:"text-xl font-bold",children:"C\xf3mo usar el QR"})]}),(0,s.jsxs)("ul",{className:"space-y-4 text-zinc-300",children:[(0,s.jsxs)("li",{className:"flex items-start gap-4 group",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-zinc-800 flex items-center justify-center font-bold text-sm group-hover:bg-blue-600 transition-colors",children:"1"}),s.jsx("span",{className:"pt-1",children:"Descarga o imprime el c\xf3digo QR"})]}),(0,s.jsxs)("li",{className:"flex items-start gap-4 group",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-zinc-800 flex items-center justify-center font-bold text-sm group-hover:bg-blue-600 transition-colors",children:"2"}),s.jsx("span",{className:"pt-1",children:"Col\xf3calo en un lugar visible de tu barber\xeda (entrada, espejo, mostrador)"})]}),(0,s.jsxs)("li",{className:"flex items-start gap-4 group",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-zinc-800 flex items-center justify-center font-bold text-sm group-hover:bg-blue-600 transition-colors",children:"3"}),s.jsx("span",{className:"pt-1",children:"Los clientes pueden escanearlo con su celular para agendar directamente"})]}),(0,s.jsxs)("li",{className:"flex items-start gap-4 group",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-zinc-800 flex items-center justify-center font-bold text-sm group-hover:bg-blue-600 transition-colors",children:"4"}),s.jsx("span",{className:"pt-1",children:"Tambi\xe9n puedes compartirlo en redes sociales o WhatsApp"})]})]})]})]})})}},1342:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var s=t(5153);let a=(0,s.createProxy)(String.raw`C:\Users\DAVID\OneDrive\Documentos\barber-platform\app\admin\qr\page.tsx`),{__esModule:i,$$typeof:n}=a,l=a.default,o=l},1440:(e,r,t)=>{e.exports=t(614)}};var r=require("../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[657,126,614,334,410,9,299],()=>__webpack_exec__(4646));module.exports=t})();