(()=>{var e={};e.id=938,e.ids=[938],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},4486:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=r(7096),a=r(6132),n=r(7284),o=r.n(n),i=r(2564),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4011)),"C:\\Users\\DAVID\\OneDrive\\Documentos\\barber-platform\\app\\settings\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2834)),"C:\\Users\\DAVID\\OneDrive\\Documentos\\barber-platform\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\DAVID\\OneDrive\\Documentos\\barber-platform\\app\\settings\\page.tsx"],u="/settings/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8721:(e,t,r)=>{Promise.resolve().then(r.bind(r,1527))},1527:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>SettingsPage});var s=r(784),a=r(9885),n=r(3334),o=r(7114),i=r(1440),l=r.n(i);function SettingsPage(){let[e,t]=(0,a.useState)(""),[r,i]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),[u,x]=(0,a.useState)(null),p=(0,n.createClientComponentClient)();(0,o.useRouter)();let handleUpdatePassword=async s=>{if(s.preventDefault(),d(!0),x(null),e.length<6){x({text:"La contrase\xf1a debe tener al menos 6 caracteres",type:"error"}),d(!1);return}if(e!==r){x({text:"Las contrase\xf1as no coinciden",type:"error"}),d(!1);return}try{let{error:r}=await p.auth.updateUser({password:e});r?x({text:`Error: ${r.message}`,type:"error"}):(x({text:"\xa1Contrase\xf1a actualizada correctamente!",type:"success"}),t(""),i(""))}catch(e){x({text:"Ocurri\xf3 un error inesperado",type:"error"})}d(!1)};return s.jsx("div",{className:"min-h-screen bg-[#F2F2F2] p-4 font-outfit",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx(l(),{href:"/dashboard",className:"w-10 h-10 bg-white rounded-full flex items-center justify-center text-navy-900 shadow-sm hover:scale-105 transition-transform",children:"â†"}),s.jsx("h1",{className:"text-2xl font-bold text-navy-900",children:"Mi Seguridad"})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-[2rem] shadow-lg border border-white",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-navy-50 rounded-full flex items-center justify-center text-xl",children:"\uD83D\uDD10"}),(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-navy-900",children:"Contrase\xf1a de Acceso"}),s.jsx("p",{className:"text-zinc-400 text-xs",children:"Para ingresar sin enlace m\xe1gico"})]})]}),(0,s.jsxs)("form",{onSubmit:handleUpdatePassword,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-navy-900 mb-1 pl-1",children:"Nueva Contrase\xf1a"}),s.jsx("input",{type:"password",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-3 rounded-xl border border-zinc-200 focus:outline-none focus:ring-2 focus:ring-navy-900/20 focus:border-navy-900 transition-all text-navy-900 bg-zinc-50 focus:bg-white",placeholder:"M\xednimo 6 caracteres"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-navy-900 mb-1 pl-1",children:"Confirmar Contrase\xf1a"}),s.jsx("input",{type:"password",value:r,onChange:e=>i(e.target.value),className:"w-full px-4 py-3 rounded-xl border border-zinc-200 focus:outline-none focus:ring-2 focus:ring-navy-900/20 focus:border-navy-900 transition-all text-navy-900 bg-zinc-50 focus:bg-white",placeholder:"Repite la contrase\xf1a"})]}),s.jsx("button",{type:"submit",disabled:c||!e,className:"w-full bg-navy-900 text-white font-bold py-4 rounded-xl hover:bg-navy-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl hover:-translate-y-0.5 mt-2",children:c?"Guardando...":"Establecer Contrase\xf1a"}),u&&s.jsx("div",{className:`p-4 rounded-xl text-sm font-medium text-center animate-in fade-in zoom-in ${"success"===u.type?"bg-green-50 text-green-700 border border-green-100":"bg-red-50 text-red-600 border border-red-100"}`,children:u.text})]})]}),s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-zinc-400 text-xs",children:"Al establecer una contrase\xf1a, podr\xe1s usar tanto el acceso con contrase\xf1a como el enlace m\xe1gico."})})]})})}},4011:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>l});var s=r(5153);let a=(0,s.createProxy)(String.raw`C:\Users\DAVID\OneDrive\Documentos\barber-platform\app\settings\page.tsx`),{__esModule:n,$$typeof:o}=a,i=a.default,l=i},1440:(e,t,r)=>{e.exports=r(614)},7114:(e,t,r)=>{e.exports=r(4979)}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[657,126,614,334,9],()=>__webpack_exec__(4486));module.exports=r})();