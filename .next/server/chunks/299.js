exports.id=299,exports.ids=[299],exports.modules={3317:(e,t,n)=>{Promise.resolve().then(n.bind(n,9478))},9478:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>AdminLayout});var s=n(784),a=n(9885),r=n(3334),i=n(7114),l=n(1440),d=n.n(l),c=n(8699);function AdminLayout({children:e}){let[t,n]=(0,a.useState)(!0),l=(0,i.useRouter)(),o=(0,i.usePathname)(),x=(0,r.createClientComponentClient)(),m="/admin/qr"===o;(0,a.useEffect)(()=>{let checkAdmin=async()=>{try{let{data:{user:e}}=await x.auth.getUser();if(!e){l.push("/login");return}let{data:t}=await x.from("perfiles").select("rol").eq("id",e.id).single();if(t?.rol!=="admin"){l.push("/dashboard");return}}catch(e){console.error("Error checking admin:",e),l.push("/dashboard")}finally{n(!1)}};checkAdmin()},[x,l]);let handleLogout=async()=>{await x.auth.signOut(),l.push("/"),l.refresh()},[h,f]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{f(!1)},[o]),t)return s.jsx("div",{className:"min-h-screen bg-[#F2F2F2] text-navy-900 flex items-center justify-center font-outfit",children:"Verificando acceso..."});let NavigationContent=()=>(0,s.jsxs)("nav",{className:"flex-1 p-6 space-y-2",children:[s.jsx("p",{className:"px-4 text-xs font-bold text-zinc-400 uppercase tracking-wider mb-4",children:"Gesti\xf3n"}),(0,s.jsxs)(d(),{href:"/admin/settings",className:(0,c.cn)("flex items-center gap-3 px-4 py-3 rounded-xl transition-all font-medium","/admin/settings"===o?"bg-navy-900 text-white shadow-md":"text-zinc-600 hover:bg-zinc-50 hover:text-navy-900"),children:[s.jsx("span",{children:"⚙️"})," Configuraci\xf3n"]}),(0,s.jsxs)(d(),{href:"/admin/appointments",className:(0,c.cn)("flex items-center gap-3 px-4 py-3 rounded-xl transition-all font-medium","/admin/appointments"===o?"bg-navy-900 text-white shadow-md":"text-zinc-600 hover:bg-zinc-50 hover:text-navy-900"),children:[s.jsx("span",{children:"\uD83D\uDCC5"})," Citas"]}),(0,s.jsxs)(d(),{href:"/admin/services",className:(0,c.cn)("flex items-center gap-3 px-4 py-3 rounded-xl transition-all font-medium","/admin/services"===o?"bg-navy-900 text-white shadow-md":"text-zinc-600 hover:bg-zinc-50 hover:text-navy-900"),children:[s.jsx("span",{children:"✂️"})," Servicios"]}),(0,s.jsxs)(d(),{href:"/admin/barbers",className:(0,c.cn)("flex items-center gap-3 px-4 py-3 rounded-xl transition-all font-medium","/admin/barbers"===o?"bg-navy-900 text-white shadow-md":"text-zinc-600 hover:bg-zinc-50 hover:text-navy-900"),children:[s.jsx("span",{children:"\uD83D\uDC88"})," Barberos"]}),(0,s.jsxs)(d(),{href:"/admin/qr",className:(0,c.cn)("flex items-center gap-3 px-4 py-3 rounded-xl transition-all font-medium","/admin/qr"===o?"bg-navy-900 text-white shadow-md":"text-zinc-600 hover:bg-zinc-50 hover:text-navy-900"),children:[s.jsx("span",{children:"\uD83D\uDCF1"})," C\xf3digo QR"]})]});return(0,s.jsxs)("div",{className:"min-h-screen bg-[#F2F2F2] flex flex-col md:flex-row font-outfit",children:[!m&&(0,s.jsxs)("div",{className:"md:hidden bg-white border-b border-zinc-200 p-4 flex items-center justify-between sticky top-0 z-30 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"bg-navy-900 text-white w-8 h-8 flex items-center justify-center rounded-full text-sm font-bold",children:"T"}),s.jsx("span",{className:"font-bold tracking-tight text-xl text-navy-900",children:"ADMIN"})]}),s.jsx("button",{onClick:()=>f(!h),className:"p-2 text-navy-900 hover:bg-zinc-100 rounded-lg",children:h?"✕":"☰"})]}),h&&(0,s.jsxs)("div",{className:"fixed inset-0 z-20 bg-white pt-20 px-4 md:hidden overflow-y-auto",children:[s.jsx(NavigationContent,{}),(0,s.jsxs)("div",{className:"p-6 border-t border-zinc-100 flex flex-col gap-2",children:[(0,s.jsxs)(d(),{href:"/dashboard",className:"flex items-center gap-2 text-zinc-500 hover:text-navy-900 transition-colors text-sm font-medium px-4 py-2",children:[s.jsx("span",{children:"←"})," Volver al Dashboard"]}),(0,s.jsxs)("button",{onClick:handleLogout,className:"flex items-center gap-2 text-red-500 hover:text-red-700 hover:bg-red-50 transition-colors text-sm font-medium px-4 py-2 rounded-lg text-left w-full",children:[s.jsx("span",{children:"\uD83D\uDEAA"})," Cerrar Sesi\xf3n"]})]})]}),!m&&(0,s.jsxs)("aside",{className:"hidden md:flex w-72 bg-white border-r border-zinc-200 flex-col shadow-sm sticky top-0 h-screen z-10",children:[s.jsx("div",{className:"p-8 border-b border-zinc-100",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"bg-navy-900 text-white w-8 h-8 flex items-center justify-center rounded-full text-sm font-bold",children:"T"}),s.jsx("span",{className:"font-bold tracking-tight text-xl text-navy-900",children:"ADMIN PANEL"})]})}),s.jsx(NavigationContent,{}),(0,s.jsxs)("div",{className:"p-6 border-t border-zinc-100 flex flex-col gap-2",children:[(0,s.jsxs)(d(),{href:"/dashboard",className:"flex items-center gap-2 text-zinc-500 hover:text-navy-900 transition-colors text-sm font-medium px-4 py-2",children:[s.jsx("span",{children:"←"})," Volver al Dashboard"]}),(0,s.jsxs)("button",{onClick:handleLogout,className:"flex items-center gap-2 text-red-500 hover:text-red-700 hover:bg-red-50 transition-colors text-sm font-medium px-4 py-2 rounded-lg text-left w-full",children:[s.jsx("span",{children:"\uD83D\uDEAA"})," Cerrar Sesi\xf3n"]})]})]}),s.jsx("main",{className:"flex-1 p-4 md:p-12 overflow-auto w-full",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:e})})]})}},8699:(e,t,n)=>{"use strict";n.d(t,{cn:()=>cn});var s=n(566),a=n(8126);function cn(...e){return(0,a.m6)((0,s.W)(e))}},5719:(e,t,n)=>{"use strict";n.r(t),n.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>d});var s=n(5153);let a=(0,s.createProxy)(String.raw`C:\Users\DAVID\OneDrive\Documentos\barber-platform\app\admin\layout.tsx`),{__esModule:r,$$typeof:i}=a,l=a.default,d=l}};