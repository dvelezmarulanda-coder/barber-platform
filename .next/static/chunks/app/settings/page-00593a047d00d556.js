(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{1447:function(e,t,a){Promise.resolve().then(a.bind(a,703))},703:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return SettingsPage}});var s=a(7437),n=a(2265),r=a(3082),o=a(4033),l=a(1396),c=a.n(l);function SettingsPage(){let[e,t]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),[i,d]=(0,n.useState)(!1),[x,u]=(0,n.useState)(null),f=(0,r.createClientComponentClient)();(0,o.useRouter)();let handleUpdatePassword=async s=>{if(s.preventDefault(),d(!0),u(null),e.length<6){u({text:"La contrase\xf1a debe tener al menos 6 caracteres",type:"error"}),d(!1);return}if(e!==a){u({text:"Las contrase\xf1as no coinciden",type:"error"}),d(!1);return}try{let{error:a}=await f.auth.updateUser({password:e});a?u({text:"Error: ".concat(a.message),type:"error"}):(u({text:"\xa1Contrase\xf1a actualizada correctamente!",type:"success"}),t(""),l(""))}catch(e){u({text:"Ocurri\xf3 un error inesperado",type:"error"})}d(!1)};return(0,s.jsx)("div",{className:"min-h-screen bg-[#F2F2F2] p-4 font-outfit",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(c(),{href:"/dashboard",className:"w-10 h-10 bg-white rounded-full flex items-center justify-center text-navy-900 shadow-sm hover:scale-105 transition-transform",children:"â†"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-navy-900",children:"Mi Seguridad"})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-[2rem] shadow-lg border border-white",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-navy-50 rounded-full flex items-center justify-center text-xl",children:"\uD83D\uDD10"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-navy-900",children:"Contrase\xf1a de Acceso"}),(0,s.jsx)("p",{className:"text-zinc-400 text-xs",children:"Para ingresar sin enlace m\xe1gico"})]})]}),(0,s.jsxs)("form",{onSubmit:handleUpdatePassword,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-navy-900 mb-1 pl-1",children:"Nueva Contrase\xf1a"}),(0,s.jsx)("input",{type:"password",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-3 rounded-xl border border-zinc-200 focus:outline-none focus:ring-2 focus:ring-navy-900/20 focus:border-navy-900 transition-all text-navy-900 bg-zinc-50 focus:bg-white",placeholder:"M\xednimo 6 caracteres"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-navy-900 mb-1 pl-1",children:"Confirmar Contrase\xf1a"}),(0,s.jsx)("input",{type:"password",value:a,onChange:e=>l(e.target.value),className:"w-full px-4 py-3 rounded-xl border border-zinc-200 focus:outline-none focus:ring-2 focus:ring-navy-900/20 focus:border-navy-900 transition-all text-navy-900 bg-zinc-50 focus:bg-white",placeholder:"Repite la contrase\xf1a"})]}),(0,s.jsx)("button",{type:"submit",disabled:i||!e,className:"w-full bg-navy-900 text-white font-bold py-4 rounded-xl hover:bg-navy-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl hover:-translate-y-0.5 mt-2",children:i?"Guardando...":"Establecer Contrase\xf1a"}),x&&(0,s.jsx)("div",{className:"p-4 rounded-xl text-sm font-medium text-center animate-in fade-in zoom-in ".concat("success"===x.type?"bg-green-50 text-green-700 border border-green-100":"bg-red-50 text-red-600 border border-red-100"),children:x.text})]})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("p",{className:"text-zinc-400 text-xs",children:"Al establecer una contrase\xf1a, podr\xe1s usar tanto el acceso con contrase\xf1a como el enlace m\xe1gico."})})]})})}},1396:function(e,t,a){e.exports=a(8326)},4033:function(e,t,a){e.exports=a(94)}},function(e){e.O(0,[311,82,326,971,472,744],function(){return e(e.s=1447)}),_N_E=e.O()}]);