(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[194],{15:function(e,s,r){Promise.resolve().then(r.bind(r,4625))},4625:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return QRCodePage}});var t=r(7437),a=r(2265),l=r(3082),n=r(4033),i=r(1396),c=r.n(i);function QRCodePage(){let[e,s]=(0,a.useState)(!0),[r,i]=(0,a.useState)(null),o=(0,l.createClientComponentClient)(),d=(0,n.useRouter)(),x="https://trim-app.vercel.app/book",m="https://api.qrserver.com/v1/create-qr-code/?size=300x300&format=png&data=".concat(encodeURIComponent(x));return((0,a.useEffect)(()=>{let checkUser=async()=>{try{let{data:{user:e}}=await o.auth.getUser();if(!e){d.push("/login");return}let{data:s}=await o.from("perfiles").select("*").eq("id",e.id).single();if(i(s),s&&"admin"!==s.rol&&"barbero"!==s.rol){d.push("/dashboard");return}}catch(e){console.error("Error loading QR page:",e),d.push("/dashboard")}finally{s(!1)}};checkUser()},[o,d]),e)?(0,t.jsx)("div",{className:"min-h-screen bg-black text-white p-8 text-center",children:"Cargando..."}):(0,t.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-black via-zinc-900 to-black text-white px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(c(),{href:"/admin",className:"text-zinc-400 hover:text-white transition-colors inline-flex items-center gap-2 group",children:[(0,t.jsx)("span",{className:"group-hover:-translate-x-1 transition-transform",children:"←"}),"Volver al Panel de Administraci\xf3n"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-white via-zinc-200 to-zinc-400 bg-clip-text text-transparent",children:"C\xf3digo QR para Reservas"}),(0,t.jsx)("p",{className:"text-zinc-400 mt-2",children:"Comparte este c\xf3digo QR para que tus clientes puedan agendar citas f\xe1cilmente"})]})]}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-zinc-900 to-zinc-800 rounded-3xl border border-zinc-700/50 p-6 sm:p-10 shadow-2xl",children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-8",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl blur-xl opacity-20"}),(0,t.jsx)("div",{className:"relative bg-white p-6 rounded-2xl shadow-xl",children:(0,t.jsx)("img",{src:m,alt:"QR Code para reservas",className:"w-full max-w-[250px] sm:max-w-[300px] h-auto",loading:"lazy",onError:e=>{console.error("Error loading QR code"),e.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="300" height="300"%3E%3Crect fill="%23ddd" width="300" height="300"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3EError cargando QR%3C/text%3E%3C/svg%3E'}})})]}),(0,t.jsxs)("div",{className:"text-center space-y-3 w-full px-2",children:[(0,t.jsx)("p",{className:"text-sm text-zinc-400 font-medium",children:"Este QR redirige a:"}),(0,t.jsx)("div",{className:"bg-zinc-800/50 backdrop-blur-sm border border-zinc-700 px-4 py-3 rounded-xl",children:(0,t.jsx)("code",{className:"text-xs text-zinc-300 break-all",children:x})})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 w-full pt-4",children:[(0,t.jsxs)("button",{onClick:()=>{let e=document.createElement("a");e.href=m,e.download="barber-shop-qr-code.png",document.body.appendChild(e),e.click(),document.body.removeChild(e)},className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white px-6 py-4 rounded-xl font-bold text-sm sm:text-base transition-all duration-300 shadow-lg hover:shadow-blue-500/50 hover:scale-105 active:scale-95 flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{className:"text-xl",children:"\uD83D\uDCE5"}),"Descargar QR"]}),(0,t.jsxs)("button",{onClick:()=>window.print(),className:"flex-1 bg-zinc-800 hover:bg-zinc-700 border border-zinc-700 text-white px-6 py-4 rounded-xl font-bold text-sm sm:text-base transition-all duration-300 hover:scale-105 active:scale-95 flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{className:"text-xl",children:"\uD83D\uDDA8️"}),"Imprimir"]})]})]})}),(0,t.jsxs)("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-2xl border border-zinc-800 p-6 sm:p-8 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xl",children:"\uD83D\uDCA1"})}),(0,t.jsx)("h2",{className:"text-xl font-bold",children:"C\xf3mo usar el QR"})]}),(0,t.jsxs)("ul",{className:"space-y-4 text-zinc-300",children:[(0,t.jsxs)("li",{className:"flex items-start gap-4 group",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-zinc-800 flex items-center justify-center font-bold text-sm group-hover:bg-blue-600 transition-colors",children:"1"}),(0,t.jsx)("span",{className:"pt-1",children:"Descarga o imprime el c\xf3digo QR"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-4 group",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-zinc-800 flex items-center justify-center font-bold text-sm group-hover:bg-blue-600 transition-colors",children:"2"}),(0,t.jsx)("span",{className:"pt-1",children:"Col\xf3calo en un lugar visible de tu barber\xeda (entrada, espejo, mostrador)"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-4 group",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-zinc-800 flex items-center justify-center font-bold text-sm group-hover:bg-blue-600 transition-colors",children:"3"}),(0,t.jsx)("span",{className:"pt-1",children:"Los clientes pueden escanearlo con su celular para agendar directamente"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-4 group",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-lg bg-zinc-800 flex items-center justify-center font-bold text-sm group-hover:bg-blue-600 transition-colors",children:"4"}),(0,t.jsx)("span",{className:"pt-1",children:"Tambi\xe9n puedes compartirlo en redes sociales o WhatsApp"})]})]})]})]})})}},1396:function(e,s,r){e.exports=r(8326)},4033:function(e,s,r){e.exports=r(94)}},function(e){e.O(0,[311,82,326,971,472,744],function(){return e(e.s=15)}),_N_E=e.O()}]);